function zipprResponseHandler(r){var e={success:!1,msg:"",data:{}},t=r.valueOf();if(!t.success)return e.msg=getZipprMsg(t.code),$.prompt(e.msg,{title:"Error!!",buttons:{OK:!0},submit:function(r,e,t,i){1==e&&($("#cboxClose").trigger("click"),$(".mapview").trigger("click"))}}),!1;if(!t.result.hasOwnProperty("trade_zone_address"))return e.msg="Store does not exist for selected address.",$.prompt(e.msg,{title:"Error!!",buttons:{OK:!0},submit:function(r,e,t,i){1==e&&($("#cboxClose").trigger("click"),$(".mapview").trigger("click"))}}),!1;var i=t.result;if(!t.result.hasOwnProperty("customer_selected_address"))return e.msg="Store does not exist for selected address.",$.prompt(e.msg,{title:"Error!!",buttons:{OK:!0},submit:function(r,e,t,i){1==e&&($("#cboxClose").trigger("click"),$(".mapview").trigger("click"))}}),!1;var o=t.result.customer_selected_address;if(e={status:!0,data:{store_code:i.trade_zone_id.substring(3),city:o.city,locality:o.locality,sublocality:o.sublocality,street:o.user_buildingname,flat_no:o.user_aptnum,locationId:i.locationId},msg:"Store found for selected address."},"undefined"!=typeof zipperSource&&"secondary"==zipperSource){var s=i.trade_zone_id.split("DPI");({store_code:s,city:o.city,locality:o.locality,sublocality:o.sublocality,street:o.user_buildingname,flat_no:o.user_aptnum,locationId:i.locationId});$("#cboxClose").trigger("click"),$(".dropListMap").addClass("hide"),$(".zipprDrop").addClass("hide");var c={zipperCity:o.city,zipperLocality:o.locality,zipperSubLocality:o.sublocality};"undefined"!=typeof i.isZipprError&&1==i.isZipprError?$.prompt(i.zipprErrorMsg,{title:"Error!!",buttons:{OK:!0},submit:function(r,e,t,i){1==e&&($("#cboxClose").trigger("click"),$(".mapview").trigger("click"))}}):showPopupAfterZipperFetched(c)}else{var r=i.trade_zone_address,a=i.trade_zone_id.split("DPI"),l=r.city.replace(/ /gi,"-");e=JSON.stringify(e),"undefined"!=typeof i.isZipprError&&1==i.isZipprError?$.prompt(i.zipprErrorMsg,{title:"Error!!",buttons:{OK:!0},submit:function(r,e,t,i){1==e&&($("#cboxClose").trigger("click"),$(".mapview").trigger("click"))}}):window.location=redirectUrl+$.trim(l)+"/"+$.trim(o.locality)+"/"+$.trim(a[1])}}function showZipprMap(){zippr.loadMap({clientKey:apiKey,token:token,callbackURL:callbackUrl,callbackFunction:zipprResponseHandler,parent:"zippr-map-loaded",height:"500px"})}function getZipprMsg(r){var e="Some error has occurred";switch(r){case"5003":e="Provided Latitude and Longitude are not valid";break;default:e="We are unable to find your selected location right now. Please refresh the page or try with text/typing store locator."}return e}$(document).ready(function(){return"undefined"!=typeof error&&""!=error?($.OLOMessages.set(error,"Error!!"),$.OLOMessages.displayAlert(),!1):void 0});